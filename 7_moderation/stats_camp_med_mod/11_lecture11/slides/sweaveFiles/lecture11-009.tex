\begin{Schunk}
\begin{Sinput}
 ## Compute product term:
 dat2$mz <- dat2$m * dat2$z
 ##
 ## Specify model:
 mod5 <- "
 y ~ cp*x + b1*m + b2*z + b3*mz
 m ~ a1*x + a2*z + a3*xz
 
 fullIE1 := (a1 + a3 * (-1.244962)) * 
            (b1 + b3 * (-1.244962)) * b2
 fullIE2 := (a1 + a3 * 1.369550) * 
            (b1 + b3 * 1.369550) * b2
 mmTest := fullIE1 - fullIE2
 "
 ##
 ## Fit model:
 out5 <- sem(mod5, data = dat2, se = "boot", boot = nBoot)
 summary(out5)
\end{Sinput}
\begin{Soutput}
lavaan (0.5-20) converged normally after  18 iterations

  Number of observations                           100

  Estimator                                         ML
  Minimum Function Test Statistic                1.230
  Degrees of freedom                                 2
  P-value (Chi-square)                           0.541

Parameter Estimates:

  Information                                 Observed
  Standard Errors                            Bootstrap
  Number of requested bootstrap draws             1000
  Number of successful bootstrap draws            1000

Regressions:
                   Estimate  Std.Err  Z-value  P(>|z|)
  y ~                                                 
    x         (cp)    0.258    0.108    2.389    0.017
    m         (b1)    0.792    0.092    8.621    0.000
    z         (b2)    0.784    0.102    7.677    0.000
    mz        (b3)    0.413    0.065    6.353    0.000
  m ~                                                 
    x         (a1)    0.729    0.091    8.009    0.000
    z         (a2)    0.641    0.085    7.525    0.000
    xz        (a3)    0.451    0.098    4.584    0.000

Variances:
                   Estimate  Std.Err  Z-value  P(>|z|)
    y                 0.593    0.077    7.676    0.000
    m                 0.669    0.088    7.636    0.000

Defined Parameters:
                   Estimate  Std.Err  Z-value  P(>|z|)
    fullIE1           0.036    0.046    0.788    0.431
    fullIE2           1.434    0.212    6.758    0.000
    mmTest           -1.398    0.228   -6.129    0.000
\end{Soutput}
\end{Schunk}
