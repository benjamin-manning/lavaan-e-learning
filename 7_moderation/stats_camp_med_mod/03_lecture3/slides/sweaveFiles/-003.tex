\begin{Schunk}
\begin{Sinput}
 ## Load the lavaan package:
 library(lavaan)
 ## Specify the basic path model:
 mod1 <- "
 policy ~ sysRac + polAffil
 sysRac ~ polAffil
 "
 ## Estimate the model:
 out1 <- cfa(mod1, data = dat1)
 ## Look at the results:
 summary(out1)
\end{Sinput}
\begin{Soutput}
lavaan (0.5-20) converged normally after  13 iterations

  Number of observations                            87

  Estimator                                         ML
  Minimum Function Test Statistic                0.000
  Degrees of freedom                                 0

Parameter Estimates:

  Information                                 Expected
  Standard Errors                             Standard

Regressions:
                   Estimate  Std.Err  Z-value  P(>|z|)
  policy ~                                            
    sysRac            0.722    0.110    6.595    0.000
    polAffil          0.051    0.069    0.745    0.456
  sysRac ~                                            
    polAffil          0.257    0.061    4.182    0.000

Variances:
                   Estimate  Std.Err  Z-value  P(>|z|)
    policy            0.837    0.127    6.595    0.000
    sysRac            0.802    0.122    6.595    0.000
\end{Soutput}
\begin{Sinput}
 ## Include the indirect effect:
 mod2 <- "
 policy ~ b*sysRac + polAffil
 sysRac ~ a*polAffil
 
 ab := a*b # Define a parameter for the indirect effect
 "
 ## Estimate the model:
 out2 <- cfa(mod2, data = dat1)
 ## Look at the results:
 summary(out2)
\end{Sinput}
\begin{Soutput}
lavaan (0.5-20) converged normally after  13 iterations

  Number of observations                            87

  Estimator                                         ML
  Minimum Function Test Statistic                0.000
  Degrees of freedom                                 0

Parameter Estimates:

  Information                                 Expected
  Standard Errors                             Standard

Regressions:
                   Estimate  Std.Err  Z-value  P(>|z|)
  policy ~                                            
    sysRac     (b)    0.722    0.110    6.595    0.000
    polAffil          0.051    0.069    0.745    0.456
  sysRac ~                                            
    polAffil   (a)    0.257    0.061    4.182    0.000

Variances:
                   Estimate  Std.Err  Z-value  P(>|z|)
    policy            0.837    0.127    6.595    0.000
    sysRac            0.802    0.122    6.595    0.000

Defined Parameters:
                   Estimate  Std.Err  Z-value  P(>|z|)
    ab                0.186    0.053    3.532    0.000
\end{Soutput}
\end{Schunk}
